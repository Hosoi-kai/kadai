<!DOCTYPE html>
<html lang="ja">
  <head>
    <title>Todoapp</title>
  </head>
  <body>
    <form>
      <ul>
          <li>ユーザー名:<input type="text" id="name"></li>
          <li>タスク：<input type="text" id="task" style="width: 200px;height: 50px;"></li>
          <li><button type="button" onclick="onClickButton()">登録</button></li>
      </ul>
    </form>
    <div id="todo-list"></div>

    <script>

    const tasksList = [];

    const onClickButton = () => {
      const todoList = document.querySelector("#todo-list");
      const name = document.querySelector("#name");
      const task = document.querySelector("#task");
      tasksList.push({ name: name.value, task: task.value });
      tasksList.forEach((todo, idx) =>
      console.log(`${idx}: ${todo.name}, ${todo.task}`)
    );
    const tbl = generateTable();

  todoList.childNodes.forEach((child) => {
    todoList.removeChild(child);
  });
  todoList.appendChild(tbl);
};

const generateTable = () => {
  const tbl = document.createElement("table");
  const tblBody = document.createElement("tbody");

  tasksList.forEach((task) => {
    const row = document.createElement("tr");
    Object.values(task).forEach((value) => {
      const cell = document.createElement("td");
      const cellText = document.createTextNode(value);
      cell.appendChild(cellText);
      row.appendChild(cell);
    });
    tblBody.appendChild(row);
  });
  tbl.appendChild(tblBody);
  return tbl;
};    
</script>
    
  </body>
</html>